<html>
	<head>
		<title>Laser Raster Converter</title>
		    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
		<script type="text/javascript" src="lasor.js"></script>

<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
	</head>
	<body>
	<h3>Laser Raster Image Prep</h3>
		<form method="POST" enctype="multipart/form-data">
			<div class="container">

				<div class="card"> 
					<div class="card-body">
						<h5 class="card-title">Source Image</h5>
						<div class="input-group mb-3">
							<div class="input-group-prepend">
								<span class="input-group-text" id="inputGroupFileAddon01">Upload</span>
							</div>
							<div class="custom-file">
								<input type="file" class="custom-file-input" id="input_file" name="input_file" aria-describedby="inputGroupFileAddon01">
								<label class="custom-file-label" for="input_file">Upload a new File</label>
							</div>
								<input type="submit" id="input_ok" name="input_ok" value="Load"></input>
						</div>

						<div class="form-group">
							<div class="input-group mb-3">
								<div class="input-group-prepend">
									<span class="input-group-text" id="basic-addon1">Width</span>
								</div>
									<input type="text" class="form-control" value="{width}"  readonly id="input_width" aria-label="Username" aria-describedby="basic-addon1">
								<div class="input-group-prepend">
									<span class="input-group-text" id="basic-addon1">Height</span>
								</div>
									<input type="text" class="form-control" value="{height}" readonly id="input_height" aria-label="Username" aria-describedby="basic-addon1">
							</div> <!-- Input Goup -->
						</div> <!-- Form Group -->
					</div> <!-- Card_body -->
				</div> <!-- Card -->


				<div class="card my-3"> 
					<div class="card-body">
						<h5 class="card-title">Image Settings</h5>
						<div class="form-group">
							<div class="input-group mb-3">
								<div class="input-group-prepend">
									<span class="input-group-text" id="basic-addon1">Width</span>
								</div>
									<input type="text" class="form-control" id="input_dest_width" value="{dest_width}" name="input_dest_width"  aria-label="Username" aria-describedby="basic-addon1">
								<div class="input-group-prepend">
									<span class="input-group-text" id="basic-addon1">Height</span>
								</div>
									<input type="text" class="form-control" id="input_dest_height" value="{dest_height}" name="input_dest_height"  aria-label="Username" aria-describedby="basic-addon1">
									<select onfocus="src_unit_focus();" onchange="src_unit_update();"  name="input_unit" class="custom-select" id="input_unit" aria-label="Example select with button addon">
										<option selected value="pixels">Pixels</option>
										<option value="inches">Inches</option>
										<option value="centimeters">Centimeters</option>
									</select>
							</div> <!-- Input Goup -->
						</div> <!-- Form Group -->


						<h6 class="card-subtitle mb-2 text-muted">Resolution</h6>
						<div class="form-group">
							<div class="input-group mb-3">
									<select onchange="change_res_type();" class="custom-select" id="input_res_type" name="input_res_type"  aria-label="Example select with button addon">
										<option value="wood">Wood</option>
										<option value="acrylic">Acrylic</option>
										<option value="glass">Glass</option>
										<option selected value="custom">Custom</option>
									</select>
								<div class="input-group-prepend">
									<span class="input-group-text" id="basic-addon1">Scan Gap</span>
								</div>
									<input oninput="change_scangap();" value="{scangap}" type="text" class="form-control" name="input_scangap" id="input_scangap" aria-label="Username" aria-describedby="basic-addon1">
								<div class="input-group-prepend">
									<span class="input-group-text" id="basic-addon1">DPI</span>
								</div>
									<input oninput="change_dpi();" value="{dpi}" type="text" class="form-control" id="input_dpi" name="input_dpi"  aria-label="Username" aria-describedby="basic-addon1">
							</div> <!-- Input Goup -->
						</div> <!-- Form Group -->

						<h6 class="card-subtitle mb-2 text-muted">Image Settings</h6>
						<div class="form-group">
							<div class="input-group mb-3">
								<div class="input-group-prepend">
									<span class="input-group-text" id="basic-addon1">Contrast</span>
								</div>
									<input onchange="change_contrast_slider();" type="range" style="width:80%" class="mx-3 form-range" min="0" max="100" id="input_contrast_slider" value="{contrast}">
									<input oninput="change_contrast();" type="text" width="3" class="form-control" id="input_contrast" name="input_contrast" aria-label="Username" aria-describedby="basic-addon1" value="{contrast}">%
							</div> <!-- Input Goup -->
							<div class="input-group mb-3">
								<div class="input-group-prepend">
									<span class="input-group-text" id="basic-addon1">Brightness</span>
								</div>
									<input onchange="change_brightness_slider();" type="range" style="width:80%" class="mx-3 form-range" id="input_brightness_slider" min="0" max="100" id="customRange2" value="{brightness}">
									<input oninput="change_brightness();" type="text" width="3" class="form-control" id="input_brightness" name="input_brightness" aria-label="Username" aria-describedby="basic-addon1" value="{brightness}">%
							</div> <!-- Input Goup -->
							<h6 class="card-subtitle mb-2 text-muted">Posterization Levels</h6>
							<div class="input-group mb-3">
								<div class="btn-group btn-group-toggle" data-toggle="buttons">
									<label class="btn btn-secondary ">
										<input type="radio" class=".btn-group-toggle" name="input_posterize" value="none" id="input_posterize_none" autocomplete="off" > None
									</label>
									<label class="btn btn-secondary ">
										<input type="radio" class=".btn-group-toggle" name="input_posterize" value="2" id="input_posterize_2" autocomplete="off" > 2
									</label>
									<label class="btn btn-secondary ">
										<input type="radio" class=".btn-group-toggle" name="input_posterize" value="3" id="input_posterize_3" autocomplete="off" > 3
									</label>
									<label class="btn btn-secondary ">
										<input type="radio" class=".btn-group-toggle" name="input_posterize" value="4" id="input_posterize_4" autocomplete="off" > 4
									</label>
								</div>
							</div> <!-- Input Goup -->
						</div> <!-- Form Group -->
					</div> <!-- Card_body -->
				</div> <!-- Card -->

				<input type="submit" id="input_ok" name="input_ok" value="OK"></input>
			{form}
		</form>
	<pre>
	{debug}
	</pre>
	<div>
	{filecont}
	</div>
	</body>
<script type="text/javascript">
	document.getElementById("input_unit").value="{dest_unit}";
	document.getElementById("input_res_type").value="{res_type}";
	$("#{posterize}").click();
</script>
</html>
